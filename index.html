<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Etch a sketch</title>

    <style>

    html, body {
        height: 100%;
    }
    body {
        margin: 0;
    }
    #wrapper {
        padding: 0;
        margin: 0;
        margin-top: 3em;
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    #wrapper {
    display: grid;
    grid-template-columns: repeat(var(--colNum), 1fr);
    grid-template-rows: repeat(var(--rowNum), 1fr);
    width: 300px;
    height: 300px;
    margin-left: 35%;
    background-color: #fff;
    border: 1px grey solid;
}

    .box{
    border-radius: 5px;
    padding: calc(300px/var(--boxPadding));
    }

 
    
    </style>
    

</head>
<body>
    
    <h1>Etch-a-sketch</h1>
                <div id="wrapper">
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                    <div class="box"></div>
                </div>   
        
            <button id="reset">RESET</button>
            <button id="randomColors">Random colors</button>
            

    <script>

    //initial wrapper of 64 boxes
    
    function initalBoxes() {
        
        let htmlStyles = window.getComputedStyle(document.querySelector("html"));
        let rowNum = parseInt(htmlStyles.getPropertyValue("--rowNum"));
        let colNum = parseInt(htmlStyles.getPropertyValue("--colNum"));
        window.getComputedStyle(document.documentElement).getPropertyValue('--boxPadding');

        document.documentElement.style.setProperty("--rowNum", 4);
        document.documentElement.style.setProperty("--colNum", 4);
        document.documentElement.style.setProperty('--boxPadding', 8);

       
    }

    document.onloadend = initalBoxes();

    //make one div and attacht to the wrapper id

    function createDivElement() {

        let divElement = document.createElement("div");

        divElement.className = "box";
        document.getElementsByClassName("box").name = "boxes";

        document.getElementById('wrapper').appendChild(divElement);

    }
        
        let boxes = document.getElementsByClassName("box");

        function createHoveringBackground() {
        
            for (let i = 0; i < boxes.length; i++) {
                boxes[i].addEventListener("mouseover", function( event ) {   
                document.getElementsByClassName("box")[i].style.backgroundColor = "darkgrey";        
            });
            }

        }
                
        createHoveringBackground();
        
        //Clear the grid and ask user how many squares (max. 64)

        function askHowManySquares() {
            
            //reset the amount of squares to none
            wrapper.innerHTML = "";

            for (let i = 0; i < boxes.length; i++) {
                document.getElementsByClassName("box")[i].style.backgroundColor = "white";
            }
            
          
            let amountSquares = prompt("How many squares do you want? (Between 2 and 100)");


            //Calculate the amount of boxes
            for (let amountOfBoxes = 0; amountOfBoxes < (amountSquares*amountSquares); amountOfBoxes++) {

                //change the css grid template column and rows and change the .box padding
              
                let htmlStyles = window.getComputedStyle(document.querySelector("html"));
                let rowNum = parseInt(htmlStyles.getPropertyValue("--rowNum"));
                let colNum = parseInt(htmlStyles.getPropertyValue("--colNum"));
                window.getComputedStyle(document.documentElement).getPropertyValue('--boxPadding');

                document.documentElement.style.setProperty("--rowNum", amountSquares);
                document.documentElement.style.setProperty("--colNum", amountSquares);
                document.documentElement.style.setProperty('--boxPadding', Number(amountSquares)+ Number(amountSquares));

                createDivElement();
            }
            createHoveringBackground();
        }

        
        //make random color, after 10 random ones, take in 1 time black
        function randomColor() {
            
        }
    
    </script>
</body>
</html>